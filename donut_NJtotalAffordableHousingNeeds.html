<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Pie and Doughnut</title>
        <script type="text/javascript" src= "https://d3js.org/d3.v7.min.js"></script>
        <style type="text/css">
            
            .labels{
            font-size: 14px;
            font-weight: normal;
            font-family: sans-serif;
          }

        </style>
    </head>
    <body>
       
        
        <div id="my_dataviz"></div>

        <script type="text/javascript">
           

// set the dimensions and margins of the graph
const margin = {top: 80, right: 30, bottom: 90, left: 130},
    width = 800 - margin.left - margin.right,
    height = 700 - margin.top - margin.bottom;

// append the svg object to the body of the page
const svg = d3.select("#my_dataviz")
  .append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
  .append("g")
    .attr("transform", `translate(${margin.left}, ${margin.top})`);
    

            //Everything we are familiar with:
            const dataset = [10, 20, 30, 5, 50, 80];
            const myColor = d3.scaleOrdinal(d3.schemeSpectral[6]);

            //Radius information
           // const outerRadius = w/2;
           // const innerRadius = 0; 
             const outerRadius = 250;
            const innerRadius = 160; //to make a doughnut!
           
            //d3.arc()creates our wedges 
            const arcs = d3.arc()  
                           .innerRadius(innerRadius)//required 
                           .outerRadius(outerRadius) //required
                           .cornerRadius(10);
                           //.cornerRadius(100);

            //pie generator
            const pie = d3.pie()
                            //.padAngle(.04);
                            //.startAngle(-0.5 * Math.PI)
                            //.endAngle(0.5 * Math.PI);
                             // .startAngle(0 * Math.PI)
                             // .endAngle(1 * Math.PI);
                            // .startAngle(0 * Math.PI)
                            // .endAngle(0.5 * Math.PI);
                            // .startAngle(0.5 * Math.PI)
                            // .endAngle(2 * Math.PI);

            //Groups to build our pie chart!
            const groups = svg.selectAll("g.arc")
                              .data(pie(dataset))//give data to our pie generator
                              .enter()
                              .append("g")
                              .attr("class", "arc")
                              .attr("transform", "translate(" + outerRadius + "," + outerRadius + ")");//arcs transform translate 

            groups.append("path")
                 .attr("fill", (d,i)=> myColor(i))
                 .attr("d", arcs) //d of our path 
                 .attr("stroke", "white")
                 .style("stroke-width", "3px");


            //Labels
            groups.append("text")
                  .attr("transform", d=> "translate(" + arcs.centroid(d) + ")")
                  .attr("text-anchor", "middle")
                  .attr("class", "labels")
                  .text(d=>d.value);

          //if you happen to like round / doughnut charts another option is to think into how you might make a radial bar chart, another common round chart. 


        </script>
    </body>
</html>